import{k as f}from"./@babel-C1uAKsp2.js";function l(r){this.value=r,this.match=function(t){return this.value>=t.height}}function c(r){this.value=r,this.match=function(t){return this.value<t.height}}function p(r){this.value=r,this.match=function(t){return this.value>=t.width}}function w(r){this.value=r,this.match=function(t){return this.value<t.width}}function m(r){this.value=r,this.match=function(t){return this.value===t.orientation}}var y=function(t,n){switch(t){case"max-height":return new l(n);case"min-height":return new c(n);case"max-width":return new p(n);case"min-width":return new w(n);case"orientation":return new m(n);default:throw new Error(n)}};function d(r,t){this.left=r,this.right=t,this.match=function(n){return r.match(n)&&t.match(n)}}function g(r,t){this.left=r,this.right=t,this.match=function(n){return r.match(n)||t.match(n)}}var E=function(t,n,e){switch(t){case"and":return new d(n,e);case",":return new g(n,e);default:throw new Error(value)}},O=y,M=E,o=/[0-9]/,h=/[a-z|\-]/i,x=/\s/,v=/:/,T=/,/,b=/and$/,A=/@/;function C(r){for(var t=0,n=[];t<r.length;){var e=r[t];if(A.test(e))for(e=r[++t];h.test(e)&&e!==void 0;)e=r[++t];if(x.test(e)||e===")"||e==="("){t++;continue}if(v.test(e)||T.test(e)){t++,n.push({type:"operator",value:e});continue}if(o.test(e)){for(var i="";o.test(e);)i+=e,e=r[++t];n.push({type:"number",value:i});continue}if(h.test(e)){for(var i="";h.test(e)&&e!==void 0;)i+=e,e=r[++t];b.test(i)?n.push({type:"operator",value:i}):n.push({type:"literal",value:i});continue}throw new TypeError("Tokenizer: I dont know what this character is: "+e)}return n}function j(r){for(var t=[],n=[];r.length>0;){var e=r.shift();if(e.type==="number"||e.type==="literal"){t.push(e);continue}if(e.type==="operator"){if(v.test(e.value)){e={type:"query",key:t.pop(),value:r.shift()},t.push(e);continue}for(;n.length>0;)t.unshift(n.pop());n.push(e)}}for(;n.length>0;)t.unshift(n.pop());function i(){var a=t.shift();if(a.type==="number")return parseInt(a.value);if(a.type==="literal")return a.value;if(a.type==="operator"){var u=i(),s=i();return M(a.value,u,s)}if(a.type==="query"){var u=a.key.value,s=a.value.value;return O(u,s)}}return i()}var z={parse:function(r){var t=C(r),n=j(t);return n}},H=z,I=function(r,t){var n={};return Object.keys(r).forEach(function(e){H.parse(e).match(t)&&Object.assign(n,r[e])}),n};const S=f(I);export{S as m};
